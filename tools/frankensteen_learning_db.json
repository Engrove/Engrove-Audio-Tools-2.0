[
  {
    "heuristicId": "H-20250728-01",
    "trigger": {
      "type": "Code Generation",
      "scope": [
        "File System",
        "JavaScript",
        "Vue"
      ],
      "keywords": [
        "import",
        "from",
        "require",
        "path",
        "resolve",
        "../",
        "../../"
      ]
    },
    "identifiedRisk": {
      "riskId": "R-PATH-RELATIVE-01",
      "description": "Risk för felaktig relativ sökvägsupplösning vid generering av import-satser, särskilt i en nyligen etablerad eller komplex mappstruktur."
    },
    "mitigation": {
      "protocolId": "G-PFC-1",
      "description": "Under 'Kompileringssimulering'-steget av G-PFC-1-protokollet, måste alla relativa importsökvägar (`../`) aktivt verifieras. Spåra mentalt sökvägen från den aktuella filens plats till den importerade filens plats för att säkerställa att antalet nivåer upp (`../`) är exakt korrekt innan koden levereras."
    },
    "metadata": {
      "originSessionId": "1",
      "createdAt": "2025-08-08T10:11:47Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250808-01",
    "trigger": {
      "type": "build_error_analysis",
      "scope": [
        "vite.config.js",
        "*.html"
      ],
      "keywords": [
        "Vite",
        "Vue",
        "mount",
        "blank page",
        "compiler"
      ]
    },
    "identifiedRisk": {
      "riskId": "IMPLICIT_FRAMEWORK_CONFIG_MISMATCH",
      "description": "Risken att en byggprocess misslyckas eller ger felaktigt resultat på grund av att AI:n inte tar hänsyn till ett ramverks (t.ex. Vites) standardkonfigurationer, som skillnaden mellan runtime-only och full-compiler builds."
    },
    "mitigation": {
      "protocolId": "PSV-MIT-VITE-COMPILER",
      "description": "Vid felsökning av Vue/Vite-renderingsproblem (särskilt 'blank sida'), verifiera omedelbart att `vite.config.js` innehåller `resolve.alias` för `vue/dist/vue.esm-bundler.js` om in-DOM-mallar används."
    },
    "metadata": {
      "originSessionId": "2",
      "createdAt": "2025-07-28T21:45:00Z",
      "status": "active",
      "sourceLogFiles": [
        "2.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250807-01",
    "trigger": {
      "type": "ui_library_creation",
      "scope": [
        "src/shared/ui/"
      ],
      "keywords": [
        "batch",
        "implement",
        "component",
        "library"
      ]
    },
    "identifiedRisk": {
      "riskId": "INEFFICIENT_WORKFLOW_SERIAL",
      "description": "Att implementera och verifiera UI-komponenter en och en (serial workflow) leder till onödiga kontextbyten och ökad overhead."
    },
    "mitigation": {
      "protocolId": "BEST_PRACTICE_BATCH_IMPLEMENTATION",
      "description": "Vid skapande av ett bibliotek av relaterade, atomiska komponenter, implementera alla komponenters kod i en batch först. Genomför sedan verifiering och testning för hela batchen i ett samlat andra steg."
    },
    "metadata": {
      "originSessionId": "3",
      "createdAt": "2025-08-07T16:00:00Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250729-01",
    "trigger": {
      "type": "file_system_interaction",
      "scope": [
        "src/pages/home/HomePage.vue"
      ],
      "keywords": [
        "img",
        "src",
        "image",
        "file",
        "path",
        "filnamn"
      ]
    },
    "identifiedRisk": {
      "riskId": "INCORRECT_FILE_PATH_ASSUMPTION",
      "description": "Risken att AI:n genererar en felaktig filsökväg i koden genom att anta ett filformat (t.ex. .png) eller filnamn (t.ex. tool-*.png) istället för att exakt extrahera den sanna informationen från kontexten (t.ex. en skärmdump som visar preview-*.webp)."
    },
    "mitigation": {
      "protocolId": "PSV-VERIFY-ASSET-PATH",
      "description": "Före generering av kod som refererar till en statisk tillgång (bild, datafil), måste AI:n explicit ställa en kontrollfråga för att bekräfta det exakta filnamnet och formatet, även om det verkar uppenbart. Exempel: 'Jag kommer att använda sökvägen /images/placeholders/preview-alignment.webp. Är detta korrekt?'"
    },
    "metadata": {
      "originSessionId": "4",
      "createdAt": "2025-07-29T15:35:00Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250805-01",
    "trigger": {
      "type": "strategic_pivot",
      "scope": [
        "initial_planning_phase"
      ],
      "keywords": [
        "commercial",
        "hobby",
        "sell",
        "pitch",
        "open-source"
      ]
    },
    "identifiedRisk": {
      "riskId": "MISALIGNED_PROJECT_TONALITY",
      "description": "AI föreslår en lösning med en kommersiell eller produktorienterad ton för ett projekt som i grunden är icke-kommersiellt och passionsdrivet, vilket leder till omarbete."
    },
    "mitigation": {
      "protocolId": "PROBE-FOR-CORE-IDENTITY",
      "description": "I den initiala planeringsfasen för en ny, större funktion eller sida, ställ explicit frågan: 'Finns det en kärnfilosofi eller begränsning (t.ex. icke-kommersiell, akademisk, open-source) som bör vägleda tonen och innehållet i denna funktion?' innan en detaljerad plan presenteras."
    },
    "metadata": {
      "originSessionId": "4.1",
      "createdAt": "2025-08-05T12:00:00Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250805-01",
    "trigger": {
      "type": "debugging_cycle",
      "scope": [
        "*"
      ],
      "keywords": [
        "bug",
        "error",
        "fix",
        "doesn't work"
      ]
    },
    "identifiedRisk": {
      "riskId": "STRATEGIC_CONTEXT_LOSS",
      "description": "AI:n fokuserar på att lösa ett omedelbart, taktiskt tekniskt problem (t.ex. 'hur man fixar denna canvas-rendering') samtidigt som den ignorerar eller glömmer ett tidigare angivet strategiskt användarkrav (t.ex. 'vi borde använda en modal, inte en canvas'). Detta leder till bortkastad ansträngning på irrelevanta lösningar."
    },
    "mitigation": {
      "protocolId": "PSV-MIT-SCL-01",
      "description": "Innan en teknisk lösning föreslås under en felsökningscykel, läs om de två senaste användarinteraktionerna för att bekräfta det aktuella strategiska målet. Ange uttryckligen det antagna målet i svaret, t.ex. 'Min uppfattning är att målet fortfarande är X. För att uppnå det kommer jag nu att fixa Y.'"
    },
    "metadata": {
      "originSessionId": "5",
      "createdAt": "2025-08-05T20:00:00Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250805-01",
    "trigger": {
      "type": "css_theming_override",
      "scope": [
        "*.vue"
      ],
      "keywords": [
        "scoped",
        "style",
        ":global",
        "theme",
        "override"
      ]
    },
    "identifiedRisk": {
      "riskId": "CSS_SPECIFICITY_FAILURE_SCOPED_GLOBAL",
      "description": "Att försöka överskugga en Vue scoped style med en :global klass-selektor misslyckas ofta på grund av den högre specificiteten hos den scopade stilens data-v-attribut. Detta leder till att temabaserade stilar inte appliceras."
    },
    "mitigation": {
      "protocolId": "PSV-CSS-01",
      "description": "När ett tema måste ändra en scoped style, använd inte `:global`. Bind istället temaklassen (t.ex. 'dark-theme') direkt till komponentens rotelement. Skapa sedan specifika scoped-regler som använder denna klass (t.ex. `.component.dark-theme`) för att säkerställa lika eller högre specificitet."
    },
    "metadata": {
      "originSessionId": "6",
      "createdAt": "2025-08-05T12:15:00Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250807-01",
    "trigger": {
      "type": "iterative_debugging_failure",
      "scope": [
        "prepare_data.py"
      ],
      "keywords": [
        "groupby",
        "NaN",
        "false",
        "None",
        "incorrect_rules"
      ]
    },
    "identifiedRisk": {
      "riskId": "DATA_INTEGRITY_ASSUMPTION",
      "description": "AI:n antar att inkommande data är ren och försöker korrigera algoritmisk logik, när grundorsaken är inkonsekventa eller ogiltiga dataformat (t.ex. blandning av booleans med strängar, ohanterade null-värden) i källfilerna."
    },
    "mitigation": {
      "protocolId": "PSV-MIT-05",
      "description": "Vid felsökning av databehandlingsskript måste den första hypotesen som testas alltid vara datakvalitet. Implementera ett dedikerat datasanerings- och normaliseringssteg som en av de första operationerna, innan data skickas till analytiska funktioner."
    },
    "metadata": {
      "originSessionId": "7",
      "createdAt": "2025-08-07T16:00:00Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250729-01",
    "trigger": {
      "type": "document_generation",
      "scope": [
        "Blueprint för Migrering*"
      ],
      "keywords": [
        "vision",
        "strategisk",
        "rapport",
        "detaljerad",
        "sammanfatta"
      ]
    },
    "identifiedRisk": {
      "riskId": "INSUFFICIENT_DETAIL_IN_SYNTHESIS",
      "description": "När en syntes av en lång brainstorming-session begärs, kan den initiala outputen vara för koncis och sakna de tekniska detaljer, kodexempel och djupgående analyser som diskuterats, vilket leder till att uppdragsgivaren behöver begära flera korrigeringar."
    },
    "mitigation": {
      "protocolId": "PSV-SYN-01",
      "description": "Vid generering av en strategisk rapport baserad på en spekulativ diskussion, ska hela konversationen aktivt skannas igen för att identifiera och inkludera specifika kodexempel, tekniska analyser och implementationer. Prioritera att integrera dessa konkreta detaljer över ren sammanfattning i den första versionen."
    },
    "metadata": {
      "originSessionId": "7.1",
      "createdAt": "2025-07-29T12:00:00Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250808-01",
    "trigger": {
      "type": "user_prompt_analysis",
      "scope": [
        "*"
      ],
      "keywords": [
        "strategisk",
        "brainstorming",
        "vad är",
        "potential",
        "vision"
      ]
    },
    "identifiedRisk": {
      "riskId": "MISSED_STRATEGIC_PIVOT",
      "description": "Risken att fortsätta med en taktisk implementation när användaren signalerar ett behov av en högre nivå av strategisk diskussion, vilket leder till onödigt arbete och senare refaktorering."
    },
    "mitigation": {
      "protocolId": "PSV-KMOD-01",
      "description": "Vid detektion av trigger, pausa omedelbart den nuvarande planen. Föreslå proaktivt att aktivera KREATIVITETS-LÄGE (K-MOD) och formalisera en brainstorming-session för att anpassa den övergripande strategin innan implementationen fortsätter."
    },
    "metadata": {
      "originSessionId": "7.1",
      "createdAt": "2025-08-08T10:00:00Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250808-1",
    "trigger": {
      "type": "code_translation_request",
      "scope": [
        "*"
      ],
      "keywords": [
        "can you create a function",
        "ideas from",
        "python script",
        "similar function",
        "javascript",
        "cloudflare"
      ]
    },
    "identifiedRisk": {
      "riskId": "LOGIC_TRANSLATION_ERROR",
      "description": "Risk of incorrectly translating the logic or functionality from a source language/platform to a target language/platform, leading to non-functional or buggy code."
    },
    "mitigation": {
      "protocolId": "PSV-MIT-CODE-XLATE-01",
      "description": "When translating code: 1. Identify the core algorithm/logic, ignoring language-specific boilerplate. 2. Map core functions to equivalents in the target language (e.g., Python's `dns.resolver` to JavaScript's `fetch` with a DoH API). 3. Encapsulate the translated logic in the correct structure for the target platform (e.g., a Cloudflare `onRequest` function). 4. Add comments explaining the mapping of concepts between the source and target."
    },
    "metadata": {
      "originSessionId": "7.3",
      "createdAt": "2025-08-08T12:00:00Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250808-01",
    "trigger": {
      "type": "persistent_configuration_error",
      "scope": [
        "wrangler.toml",
        "public/_routes.json",
        "vite.config.js"
      ],
      "keywords": [
        "fel igen",
        "kvarstår",
        "v1.0 fungerar",
        "samma fel"
      ]
    },
    "identifiedRisk": {
      "riskId": "RISK_ASSUMPTION_OVER_EVIDENCE",
      "description": "AI-modellen prioriterar generella, teoretiska 'best practices' över konkret, empirisk bevisning från en fungerande referensimplementering som tillhandahållits av användaren. Detta leder till ineffektiva och felaktiga felsökningsförslag."
    },
    "mitigation": {
      "protocolId": "PROTOCOL_REFERENCE_PRIORITY",
      "description": "Vid ett ihållande konfigurationsfel och när en fungerande referensversion finns tillgänglig, måste AI:ns första åtgärd vara att genomföra en obligatorisk, textbaserad 'diff'-analys mellan de relevanta konfigurationsfilerna i den felande versionen och referensversionen. Planen måste sedan *uteslutande* baseras på att eliminera de identifierade skillnaderna."
    },
    "metadata": {
      "originSessionId": "8",
      "createdAt": "2025-08-08T12:00:00Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250730-01",
    "trigger": {
      "type": "code_analysis_discrepancy",
      "scope": [
        "*"
      ],
      "keywords": [
        "file structure",
        "API contract",
        "refactor",
        "migration",
        "does not exist"
      ]
    },
    "identifiedRisk": {
      "riskId": "CONTEXT_DRIFT_HALLUCINATION",
      "description": "AI:ns interna modell av projektets tillstånd blir desynkroniserad från den faktiska källkoden, särskilt under refaktorisering eller migrering. AI:n föreslår då lösningar för filer eller kodstrukturer som inte längre existerar, vilket leder till slöseri med tid och minskat förtroende."
    },
    "mitigation": {
      "protocolId": "PSV-VERIFY-CONTEXT-FIRST",
      "description": "Innan en filmodifiering föreslås måste AI:n explicit verbalisera sin förståelse av filens omedelbara beroenden och API-kontrakt. Den måste begära bekräftelse eller den fullständiga källkoden för relaterade filer om dess konfidens är låg. Exempel: 'Min plan är att modifiera explorerStore.js. Jag förstår att den anropas av DataExplorerPage.vue och att den i sin tur anropar fetchExplorerData.js. Är detta korrekt, och kan du tillhandahålla den nuvarande versionen av fetchExplorerData.js?'"
    },
    "metadata": {
      "originSessionId": "9",
      "createdAt": "2025-07-30T12:00:00Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250807-01",
    "trigger": {
      "type": "api_call_implementation",
      "scope": [
        "src/entities/**/api/*.js"
      ],
      "keywords": [
        "fetch",
        ".json"
      ]
    },
    "identifiedRisk": {
      "riskId": "API_CONTRACT_VIOLATION_FILENAME",
      "description": "Risk att generera fetch-anrop till felaktiga filsökvägar på grund av antaganden om namnkonventioner (t.ex. singularis vs. pluralis), vilket leder till 404-fel som maskeras som SPA-fallback HTML-svar och efterföljande JSON-parsningsfel."
    },
    "mitigation": {
      "protocolId": "P-VERIFY-STATIC-ASSETS",
      "description": "Innan kod skrivs som involverar `fetch` till en statisk tillgång, begär och invänta explicit verifiering av tillgångens exakta, skiftlägeskänsliga, fullständiga sökväg från användaren, helst via en direkt fillista eller skärmdump från källkodsrepositoryt."
    },
    "metadata": {
      "originSessionId": "11",
      "createdAt": "2025-07-30T18:00:00Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250731-01",
    "trigger": {
      "type": "css_refactoring",
      "scope": [
        "src/shared/ui/*.vue"
      ],
      "keywords": [
        "theme",
        "compact",
        "global",
        "scoped",
        "css"
      ]
    },
    "identifiedRisk": {
      "riskId": "DECENTRALIZED_THEME_STYLES",
      "description": "När ett globalt tema (som 'compact-mode') implementeras, sprids komponentspecifika stilöverstyrningar över många individuella .vue-filer. Detta ökar underhållsbördan och risken för inkonsekvenser när temat uppdateras i framtiden."
    },
    "mitigation": {
      "protocolId": "PSV-MIT-05",
      "description": "För globala tematiska överstyrningar, centralisera alla komponentspecifika CSS-regler i en enda, dedikerad fil (t.ex. `src/app/styles/_components.css`). Detta skapar en enda sanningskälla för temajusteringar, vilket förbättrar underhållbarheten och säkerställer konsekvens."
    },
    "metadata": {
      "originSessionId": "12",
      "createdAt": "2025-07-31T18:00:00Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250731-01",
    "trigger": {
      "type": "code_generation",
      "scope": [
        "vite.config.js",
        "src/app/main.js",
        "*.env*"
      ],
      "keywords": [
        "debug",
        "env",
        "mode",
        "initialize",
        "pinia",
        "plugin"
      ]
    },
    "identifiedRisk": {
      "riskId": "ENV_CONFIG_ASSUMPTION",
      "description": "AI assumes build-time environment variables or framework initializations will work as documented without verifying the specific project configuration, leading to non-functional code that is difficult to debug."
    },
    "mitigation": {
      "protocolId": "PSV-MIT-ENV-CHECK",
      "description": "Before using environment variables (e.g., import.meta.env) or framework plugins (e.g., Pinia), explicitly ask the user to provide the contents of the relevant configuration files (vite.config.js, main.js) and deployment environment settings for verification."
    },
    "metadata": {
      "originSessionId": "13",
      "createdAt": "2025-07-31T21:00:00Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250808-01",
    "trigger": {
      "type": "debugging_cycle",
      "scope": [
        "*"
      ],
      "keywords": [
        "hint",
        "fel",
        "bugg",
        "du har fel",
        "incorrect"
      ]
    },
    "identifiedRisk": {
      "riskId": "UNVERIFIED_ASSUMPTION",
      "description": "AI proceeds with a solution based on an unverified assumption or user hint, bypassing direct source code analysis."
    },
    "mitigation": {
      "protocolId": "CORE-3.3-VERIFY",
      "description": "Activate the 'Misstro och Verifiera' (Distrust and Verify) principle. Before formulating a plan, all information, especially user-provided hints about errors, must be independently verified against the provided source code. State the verification result explicitly in the plan."
    },
    "metadata": {
      "originSessionId": "14",
      "createdAt": "2025-08-08T12:00:00Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250801-01",
    "trigger": {
      "type": "debugging_data_flow",
      "scope": [
        "/src/entities/"
      ],
      "keywords": [
        "fetch",
        "store",
        "state",
        "props",
        "data",
        "undefined"
      ]
    },
    "identifiedRisk": {
      "riskId": "IMPLICIT_API_CONTRACT_VIOLATION",
      "description": "AI:n antar felaktigt konsekvens (t.ex. pluralisering) mellan filnamn, API-svar och state management-nycklar, vilket bryter dataflödet när subtila inkonsekvenser existerar."
    },
    "mitigation": {
      "protocolId": "API_CONTRACT_HOLINESS_v1",
      "description": "Innan någon del av en datakedja modifieras, mappa först explicit datanycklarna från källan (fil/API-svar) till konsumenten (store/komponent). Verbalisera denna 'kontraktskarta'. Behandla varje avvikelse som ett kritiskt fel."
    },
    "metadata": {
      "originSessionId": "15",
      "createdAt": "2025-08-01T12:00:00Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250801-01",
    "trigger": {
      "type": "api_contract_analysis",
      "scope": [
        "/src/entities/"
      ],
      "keywords": [
        "fetch",
        "store",
        "api",
        "data",
        "contract"
      ]
    },
    "identifiedRisk": {
      "riskId": "PRODUCER_FIXATION_ERROR",
      "description": "AI:n fixerar vid att korrigera den dataproducerande filen (t.ex. en API-modul) baserat på en felaktig uppfattning om konsumentens behov, utan att först verifiera konsumentens kod (t.ex. en Pinia store) för att etablera det sanna API-kontraktet."
    },
    "mitigation": {
      "protocolId": "PSV-API-01",
      "description": "Vid felsökning av ett dataflödesproblem mellan en producent och en konsument, MÅSTE analysen börja med konsumentfilen. De exakta datanycklar och strukturer som konsumenten förväntar sig ska dokumenteras innan producentfilen undersöks. Producentfilen ändras sedan endast för att matcha detta verifierade kontrakt."
    },
    "metadata": {
      "originSessionId": "16",
      "createdAt": "2025-08-01T18:00:00Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250802-01",
    "trigger": {
      "type": "architectural_suggestion",
      "scope": [
        "*.css",
        "*.vue"
      ],
      "keywords": [
        "centralize",
        "global css",
        "scoped"
      ]
    },
    "identifiedRisk": {
      "riskId": "LOSS_OF_STYLE_ENCAPSULATION",
      "description": "Förslaget att flytta all CSS till en global fil skulle eliminera fördelarna med Vues 'scoped styles', vilket leder till hög risk för oavsiktliga stilkonflikter och minskad underhållbarhet."
    },
    "mitigation": {
      "protocolId": "PSV-ARCH-01",
      "description": "Vid arkitektoniska förslag från användaren, validera dem mot den valda teknikstackens kärnprinciper (t.ex. komponent-inkapsling). Om en konflikt identifieras, förklara risken och föreslå en alternativ lösning som uppnår användarens mål utan att kompromissa med arkitektonisk integritet."
    },
    "metadata": {
      "originSessionId": "17",
      "createdAt": "2025-08-02T18:00:00Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250803-01",
    "trigger": {
      "type": "file_generation",
      "scope": [
        "*.json"
      ],
      "keywords": [
        "json",
        "comment",
        "syntax"
      ]
    },
    "identifiedRisk": {
      "riskId": "INVALID_JSON_GENERATION",
      "description": "AI-modellen kan generera JSON-filer som innehåller kommentarer, vilket gör dem ogiltiga och orsakar parser-fel i efterföljande system."
    },
    "mitigation": {
      "protocolId": "PSV-LINT-01",
      "description": "Före leverans av en JSON-fil, simulera en linter-pass som specifikt verifierar att inga kommentarer (// eller /* */) finns i filen. Om kommentarer upptäcks, ta bort dem automatiskt och logga en intern varning om självkorrigering."
    },
    "metadata": {
      "originSessionId": "18",
      "createdAt": "2025-08-03T23:59:59Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250803-01",
    "trigger": {
      "type": "file_system_interaction",
      "scope": [
        "prepare_data.py"
      ],
      "keywords": [
        "FILE_MAPPING",
        "os.path.exists",
        "pd.read_json"
      ]
    },
    "identifiedRisk": {
      "riskId": "CONTEXT_ASSUMPTION_FILESYSTEM",
      "description": "AI:n antar filnamn (t.ex. plural vs. singular) istället för att verifiera mot explicit kontext som en kataloglista, vilket orsakar fil-hittades-inte-fel och dataintegritetsfel."
    },
    "mitigation": {
      "protocolId": "PSV-FS-01",
      "description": "Innan någon filsystems-konstant används, korsreferera den med den tillhandahållna kataloglistan (`dir`-output). Om en avvikelse upptäcks, stoppa omedelbart, rapportera avvikelsen och be om klargörande. Fortsätt aldrig med en overifierad filsökväg."
    },
    "metadata": {
      "originSessionId": "20",
      "createdAt": "2025-08-03T19:30:00Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250808-001",
    "trigger": {
      "type": "automation",
      "scope": [
        "chat_extraction",
        "session_logging"
      ],
      "keywords": [
        "automation",
        "extraction",
        "long session"
      ]
    },
    "identifiedRisk": {
      "riskId": "R-AUTO-001",
      "description": "Manuellt extraherad interaktionshistorik vid långa sessioner riskerar att missa detaljer."
    },
    "mitigation": {
      "protocolId": "P-AUTO-EXTRACT",
      "description": "Implementera automatisk fullständig loggutdragning och sammanfattning av alla inlägg i Chatthistorik."
    },
    "metadata": {
      "originSessionId": "29.1",
      "createdAt": "2025-08-08T00:00:00Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  },
  {
    "heuristicId": "H-20250808-01",
    "trigger": {
      "type": "data_extraction_design",
      "scope": [
        "generic_crawler.py",
        "P-AACK_Instruction.md"
      ],
      "keywords": [
        "scrape",
        "crawl",
        "extract",
        "parse",
        "HTML"
      ]
    },
    "identifiedRisk": {
      "riskId": "SUBOPTIMAL_EXTRACTION_METHOD",
      "description": "Risken att designa och implementera en bräcklig HTML-skrapningslösning för en webbplats som i själva verket erbjuder ett stabilt, strukturerat och officiellt API."
    },
    "mitigation": {
      "protocolId": "PSV-MIT-05",
      "description": "Vid design av en ny datainsamlingsprocess, måste AI:n först aktivt verifiera om måldomänen har ett publikt API (genom att söka efter `/api.php`, `/robots.txt` för sitemap/API-länkar, eller `api.`-subdomäner) innan någon HTML-specifik logik föreslås. API-först-strategin måste alltid vara det primära alternativet."
    },
    "metadata": {
      "originSessionId": "29.2",
      "createdAt": "2025-08-08T13:05:00Z",
      "status": "active",
      "sourceLogFiles": [
        "docs/ByggLogg.json",
        "docs/Chatthistorik.json"
      ]
    }
  }
]
